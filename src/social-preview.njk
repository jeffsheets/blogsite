---
# https://github.com/bnijenhuis/bnijenhuis-nl/blob/main/social-preview.njk
pagination:
  data: collections.posts
  size: 1
  alias: preview
permalink: '/assets/images/social-preview/{{ preview.data.title | slugify }}-preview.svg'
eleventyExcludeFromCollections: true
---
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="1200" height="628" viewBox="0 0 1200 628" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
>
  {% set titleInLines = preview.data.title | splitlines(24) %}
  {% set subtitleInLines = preview.data.description | splitlines(45) %}
  {% set numberOfLines = titleInLines.length + subtitleInLines.length %}
  {% set verticalStartingPoint = 420 - titleInLines.length * 50 - subtitleInLines.length * 30 %}

  <!-- SVG background, generate your own on: https://app.haikei.app/  -->
  <svg id="visual" viewBox="0 0 1200 628" width="1200" height="628" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"><rect x="0" y="0" width="1200" height="628" fill="#404040"></rect><path d="M0 100L50 92.7C100 85.3 200 70.7 300 70.7C400 70.7 500 85.3 600 94.3C700 103.3 800 106.7 900 107.5C1000 108.3 1100 106.7 1150 105.8L1200 105L1200 0L1150 0C1100 0 1000 0 900 0C800 0 700 0 600 0C500 0 400 0 300 0C200 0 100 0 50 0L0 0Z" fill="#1CAF7D" stroke-linecap="round" stroke-linejoin="miter"></path></svg>

  <text
          font-family="Redhat, Roboto, 'Helvetica Neue', sans-serif"
          font-size="32"
          font-weight="bold"
          fill="#f3f3f3"
          letter-spacing="-1"
  >
    <tspan x="90" y="50">
      {{ preview.date | formatDate('YYYY-MM-DD') }} · {{ meta.blog.ogTitle }}
    </tspan>
  </text>

  <!-- title -->
  <text
    id="text"
    font-family="Redhat, Roboto, 'Helvetica Neue', sans-serif"
    font-size="80"
    font-weight="900"
    fill="#1CAF7D"
    letter-spacing="-3"
  >
    {% for line in titleInLines %}
    <tspan x="90" y="{{ verticalStartingPoint - 20 + loop.index0 * 80 }}">
      {{ line }}
    </tspan>
    {% endfor %}
  </text>

  <!-- subtitle -->
  <text
          id="text"
          font-family="Redhat, Roboto, 'Helvetica Neue', sans-serif"
          font-size="48"
          font-weight="bold"
          fill="#dddddd"
          letter-spacing="-3"
  >
    {% for line in subtitleInLines %}
      <tspan x="120" y="{{ verticalStartingPoint + titleInLines.length * 60 + loop.index0 * 48 }}">
        {{ line }}
      </tspan>
    {% endfor %}
  </text>

  <!-- sitename -->
  <text
  font-family="Redhat, Roboto, 'Helvetica Neue', sans-serif"
    font-size="24"
    font-weight="bold"
    fill="#dddddd"
    letter-spacing="-0.5"
  >
    <tspan x="90" y="600">{{ meta.siteName }} · {{ meta.url | replace("https://", "") | replace("http://", "") }}{{ preview.url }}</tspan>
  </text>
</svg>
